## Overview
[Direflow](https://direflow.io/) is a tool used when creating a ReactJS front-end. It allows you to easily wrap the React project in a Web Component, making it the desired tool of use when building an app that uses the micro front-end architecture.

## Web app development
This section describes common scenarios when setting up a dev environment

### Using proxy for requests
If you are using Direflow to wrap a front-end that will be hosted separately from the APIs/back-end, you will need to setup your Direflow development environment to proxy requests to a different local server. Since Direflow wraps create-react-app, you can add a proxy by simply specifying it in package.json:

```
{
  "name": ...
  "scripts": ...
  "proxy": "http://localhost:8081"
}
```

### Changing the host server config
By default Direflow uses http://localhost:3000 as the default config for the host server when running the start script. All of the below keys can be passed as environment variables to create a custom config for your local dev server:

- HTTPS         (ex. HTTPS=true)
- HOST          (ex. HOST=localhost.x.com)
- PORT          (ex. PORT=8080)
- SSL_CRT_FILE  (ex. SSL_CRT_FILE=../dev_cert/localhost.x.com.pem)
- SSL_KEY_FILE  (ex. SSL_KEY_FILE=../dev_cert/localhost.x.com-key.pem)

You can use the cross-env package to pass set these env variables in the start script:

`"start": "cross-env HTTPS=true HOST=localhost.x.com PORT=8080 SSL_CRT_FILE=../dev_cert/localhost.x.com.pem SSL_KEY_FILE=../dev_cert/localhost.x.com-key.pem direflow-scripts start"`

### Dev SSL certificate
If you are using https and need to create a dev SSL certificate:

1. Create a folder to store your cert files (ex. `dev_cert`) at the project root
1. Install `mkcert` if you do not already have it (if you use chocolatey, just run `choco install mkcert`)
1. Install a certificate authority using command `mkcert -install`
1. Copy and paste the rootCA.pem file generated by mkcert from the directory the previous command returns (usually C:/Users/<user>/AppData/Local/mkcert) into the cert folder
1. Navigate to the cert folder
1. Run `mkcert localhost.vauto.com`
1. Add references to your `SSL_CRT_FILE` and `SSL_KEY_FILE` as shown above